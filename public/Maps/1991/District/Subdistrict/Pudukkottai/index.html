<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet-search.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        #controls {
            position: absolute;
            top: 10px;
            left: 50px;
            z-index: 1000;
            background: white;
            padding: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            border-radius: 5px;
        }
        #controls div {
            margin-bottom: 5px;
        }
        #controls input[type="text"], #controls select {
            width: 70px;
            padding: 5px;
            margin-right: 5px;
        }
        #controls button {
            padding: 5px 10px;
            margin-top: 5px;
        }
  
        #controls button:hover {
          cursor: pointer;
        }
        #controls label {
          margin-right: 5px;
      }
      /* Add this CSS to maintain feature borders */
  .leaflet-pane svg .leaflet-interactive {
    fill-opacity: 0.7;
    stroke: #3388ff; /* Border color */
    stroke-width: 1px;
  }
  
  /* Modify the fill color when highlighted */
  .leaflet-pane svg .leaflet-interactive.highlight {
    fill: #ff0000; /* Highlighted fill color */
  }
        </style>
        <title></title>
    </head>
    <body>
        <div id="map">
            <div id="controls">
                <label for="addField">Add Field: </label>
                <select id="addField" onchange="addField()">
                    <option value="">Select Field</option>
                    <!-- Previously added options -->
                    <option value="T_POPULAT">Total Population</option>
                    <option value="DENSITY">Density</option>
                    <option value="HOUSEHOLDS">Number of Occupied Households</option>
                    <option value="PERS/HOUSE">Number of Persons per Occupied Household</option>
                    <option value="MALE_POP">Male Population</option>
                    <option value="FEMALE_POP">Female Population</option>
                    <option value="SR_POPULAT">Sex Ratio</option>
                    <option value="T_CHILDREN">Total Children</option>
                    <option value="M_CHILDREN">Male Children</option>
                    <option value="F_CHILDREN">Female Children</option>
                    <option value="SR_CHILDRE">Sex Ratio of Children</option>
                    <option value="T_SC">Total Scheduled Castes Population</option>
                    <option value="T%_SC">Percentage of Scheduled Castes Population</option>
                    <option value="M_SC">Male Scheduled Castes Population</option>
                    <option value="F_SC">Female Scheduled Castes Population</option>
                    <option value="SR_SC">Sex Ratio of Scheduled Castes Population</option>
                    <option value="T_ST">Total Scheduled Tribes Population</option>
                    <option value="T%_ST">Percentage of Scheduled Tribes Population</option>
                    <option value="M_ST">Male Scheduled Tribes Population</option>
                    <option value="F_ST">Female Scheduled Tribes Population</option>
                    <option value="SR_ST">Sex Ratio of Scheduled Tribes Population</option>
                    <option value="T_LITTERAT">Total Literate Population</option>
                    <option value="T%_LITTERA">Percentage of Literate Population</option>
                    <option value="M_LITTERAT">Male Literate Population</option>
                    <option value="F_LITTERAT">Female Literate Population</option>
                    <option value="SR_LITTERA">Sex Ratio of Literate Population</option>
                    <option value="T_WORKERS">Total Workers</option>
                    <option value="T%_WORKERS">Percentage of Workers</option>
                    <option value="M_WORKERS">Male Workers</option>
                    <option value="F_WORKERS">Female Workers</option>
                    <option value="SR_WORKERS">Sex Ratio of Workers</option>
                    <option value="T_MARGINAL">Total Marginal Workers</option>
                    <option value="T%_MARGINA">Percentage of Marginal Workers</option>
                    <option value="M_MARGINAL">Male Marginal Workers</option>
                    <option value="F_MARGINAL">Female Marginal Workers</option>
                    <option value="SR_MARGINA">Sex Ratio of Marginal Workers</option>
                    <option value="T_NONWORK">Total Non-Workers</option>
                    <option value="T%_NONWORK">Percentage of Non-Workers</option>
                    <option value="M_NONWORK">Male Non-Workers</option>
                    <option value="F_NONWORK">Female Non-Workers</option>
                    <option value="SR_NONWORK">Sex Ratio of Non-Workers</option>
                    <option value="T_PRIMARY">Total Primary Sector Workers</option>
                    <option value="T%_PRIMARY">Percentage of Primary Sector Workers</option>
                    <option value="M_PRIMARY">Male Primary Sector Workers</option>
                    <option value="F_PRIMARY">Female Primary Sector Workers</option>
                    <option value="SR_PRIMARY">Sex Ratio of Primary Sector Workers</option>
                    <option value="T_SECUND">Total Secondary Sector Workers</option>
                    <option value="T%_SECUND">Percentage of Secondary Sector Workers</option>
                    <option value="M_SECUND">Male Secondary Sector Workers</option>
                    <option value="F_SECUND">Female Secondary Sector Workers</option>
                    <option value="SR_SECUND">Sex Ratio of Secondary Sector Workers</option>
                    <option value="T_TERTIARY">Total Tertiary Sector Workers</option>
                    <option value="T%_TERTIAR">Percentage of Tertiary Sector Workers</option>
                    <option value="M_TERTIARY">Male Tertiary Sector Workers</option>
                    <option value="F_TERTIARY">Female Tertiary Sector Workers</option>
                    <option value="SR_TERTIAR">Sex Ratio of Tertiary Sector Workers</option>
                    <option value="T_CULTIVAT">Total Cultivators</option>
                    <option value="T%_CULTIVA">Percentage of Cultivators</option>
                    <option value="M_CULTIVAT">Male Cultivators</option>
                    <option value="F_CULTIVAT">Female Cultivators</option>
                    <option value="SR_CULTIVA">Sex Ratio of Cultivators</option>
                    <option value="T_AGRI_LAB">Total Agricultural Laborers</option>
                    <option value="T%_AGRI_LA">Percentage of Agricultural Laborers</option>
                    <option value="M_AGRI_LAB">Male Agricultural Laborers</option>
                    <option value="F_AGRI_LAB">Female Agricultural Laborers</option>
                    <option value="SR_AGRI_LA">Sex Ratio of Agricultural Laborers</option>
                    <option value="T_FISH_FOR">Total Fishing and Forestry Workers</option>
                    <option value="T%_FISH_FO">Percentage of Fishing and Forestry Workers</option>
                    <option value="M_FISH_FOR">Male Fishing and Forestry Workers</option>
                    <option value="F_FISH_FOR">Female Fishing and Forestry Workers</option>
                    <option value="SR_FISH_FO">Sex Ratio of Fishing and Forestry Workers</option>
                    <option value="T_MINING">Total Mining Workers</option>
                    <option value="T%_MINING">Percentage of Mining Workers</option>
                    <option value="M_MINING">Male Mining Workers</option>
                    <option value="F_MINING">Female Mining Workers</option>
                    <option value="SR_MINING">Sex Ratio of Mining Workers</option>
                    <option value="T_HH_INDUS">Total Household Industry Workers</option>
                    <option value="T%_HH_INDU">Percentage of Household Industry Workers</option>
                    <option value="M_HH_INDUS">Male Household Industry Workers</option>
                    <option value="F_HH_INDUS">Female Household Industry Workers</option>
                    <option value="SR_HH_INDU">Sex Ratio of Household Industry Workers</option>
                    <option value="T_OTH_INDU">Total Other Industry Workers</option>
                    <option value="T%_OTH_IND">Percentage of Other Industry Workers</option>
                    <option value="M_OTH_INDU">Male Other Industry Workers</option>
                    <option value="F_OTH_INDU">Female Other Industry Workers</option>
                    <option value="SR_OTH_IND">Sex Ratio of Other Industry Workers</option>
                    <option value="T_CONSTRUC">Total Construction Workers</option>
                    <option value="T%_CONSTRU">Percentage of Construction Workers</option>
                    <option value="M_CONSTRUC">Male Construction Workers</option>
                    <option value="F_CONSTRUC">Female Construction Workers</option>
                    <option value="SR_CONSTRU">Sex Ratio of Construction Workers</option>
                    <option value="T_TRADE">Total Trade Workers</option>
                    <option value="T%_TRADE">Percentage of Trade Workers</option>
                    <option value="M_TRADE">Male Trade Workers</option>
                    <option value="F_TRADE">Female Trade Workers</option>
                    <option value="SR_TRADE">Sex Ratio of Trade Workers</option>
                    <option value="T_TRANSPOR">Total Transport Workers</option>
                    <option value="T%_TRANSPO">Percentage of Transport Workers</option>
                    <option value="M_TRANSPOR">Male Transport Workers</option>
                    <option value="F_TRANSPOR">Female Transport Workers</option>
                    <option value="SR_TRANSPO">Sex Ratio of Transport Workers</option>
                    <option value="T_SERVICES">Total Service Sector Workers</option>
                    <option value="T%_SERVICE">Percentage of Service Sector Workers</option>
                    <option value="M_SERVICES">Male Service Sector Workers</option>
                    <option value="F_SERVICES">Female Service Sector Workers</option>
                    <option value="SR_SERVICE">Sex Ratio of Service Sector Workers</option>
                    <option value="LU_FOREST">Total Forest Land</option>
                    <option value="LU%_FOREST">Percentage of Forest Land</option>
                    <option value="LU_IRRIGAT">Total Irrigated Land</option>
                    <option value="LU%_IRRIGA">Percentage of Irrigated Land</option>
                    <option value="LU_UNIRRIG">Total Unirrigated Land</option>
                    <option value="LU%_UNIRRI">Percentage of Unirrigated Land</option>
                    <option value="LU_CULT_WA">Total Cultivable Waste Land</option>
                    <option value="LU%_CULT_W">Percentage of Cultivable Waste Land</option>
                    <option value="LU_NON_CUL">Total Non-Cultivable Land</option>
                    <option value="LU%_NON_C">Percentage of Non-Cultivable Land</option>
                    <option value="IR_WELL">Total Irrigated by Wells</option>
                    <option value="IR_TUBEWEL">Total Irrigated by Tubewells</option>
                    <option value="IR_TANK">Total Irrigated by Tanks</option>
                    <option value="IR_LAKE">Total Irrigated by Lakes</option>
                    <option value="IR_RIVER">Total Irrigated by Rivers</option>
                    <option value="IR_GVT_CAN">Total Irrigated by Government Canals</option>
                    <option value="IR_PRIV_CA">Total Irrigated by Private Canals</option>
                    <option value="IR_OTHER">Total Irrigated by Other Sources</option>
                </select>
                </select>
                <div id="filters"></div>
                <button onclick="applyFilter()">Apply Filter</button>
                <button onclick="revertFeatures()">Revert</button>
            </div>  
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-search.js"></script>
        <script src="data/Pudukkottaisdt_0.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:false, maxZoom:28, minZoom:1
        }).fitBounds([[-5.217199768785958,-4.666697892207906],[1.6470125958532846,5.3604340666315275]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // add class to format popup if it contains media
		function addClassToPopupIfMedia(content, popup) {
			var tempDiv = document.createElement('div');
			tempDiv.innerHTML = content;
			if (tempDiv.querySelector('td img')) {
				popup._contentNode.classList.add('media');
					// Delay to force the redraw
					setTimeout(function() {
						popup.update();
					}, 10);
			} else {
				popup._contentNode.classList.remove('media');
			}
		}
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        function pop_Pudukkottaisdt_0(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">CODE</th>\
                        <td>' + (feature.properties['CODE'] !== null ? autolinker.link(feature.properties['CODE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">NAME</th>\
                        <td>' + (feature.properties['NAME'] !== null ? autolinker.link(feature.properties['NAME'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">DISTRICT</th>\
                        <td>' + (feature.properties['DISTRICT'] !== null ? autolinker.link(feature.properties['DISTRICT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_POPULAT</th>\
                        <td>' + (feature.properties['T_POPULAT'] !== null ? autolinker.link(feature.properties['T_POPULAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">DENSITY</th>\
                        <td>' + (feature.properties['DENSITY'] !== null ? autolinker.link(feature.properties['DENSITY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">HOUSEHOLDS</th>\
                        <td>' + (feature.properties['HOUSEHOLDS'] !== null ? autolinker.link(feature.properties['HOUSEHOLDS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">PERS/HOUSE</th>\
                        <td>' + (feature.properties['PERS/HOUSE'] !== null ? autolinker.link(feature.properties['PERS/HOUSE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">MALE_POP</th>\
                        <td>' + (feature.properties['MALE_POP'] !== null ? autolinker.link(feature.properties['MALE_POP'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">FEMALE_POP</th>\
                        <td>' + (feature.properties['FEMALE_POP'] !== null ? autolinker.link(feature.properties['FEMALE_POP'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_POPULAT</th>\
                        <td>' + (feature.properties['SR_POPULAT'] !== null ? autolinker.link(feature.properties['SR_POPULAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_CHILDREN</th>\
                        <td>' + (feature.properties['T_CHILDREN'] !== null ? autolinker.link(feature.properties['T_CHILDREN'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_CHILDREN</th>\
                        <td>' + (feature.properties['M_CHILDREN'] !== null ? autolinker.link(feature.properties['M_CHILDREN'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_CHILDREN</th>\
                        <td>' + (feature.properties['F_CHILDREN'] !== null ? autolinker.link(feature.properties['F_CHILDREN'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_CHILDRE</th>\
                        <td>' + (feature.properties['SR_CHILDRE'] !== null ? autolinker.link(feature.properties['SR_CHILDRE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_SC</th>\
                        <td>' + (feature.properties['T_SC'] !== null ? autolinker.link(feature.properties['T_SC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_SC</th>\
                        <td>' + (feature.properties['T%_SC'] !== null ? autolinker.link(feature.properties['T%_SC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_SC</th>\
                        <td>' + (feature.properties['M_SC'] !== null ? autolinker.link(feature.properties['M_SC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_SC</th>\
                        <td>' + (feature.properties['F_SC'] !== null ? autolinker.link(feature.properties['F_SC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_SC</th>\
                        <td>' + (feature.properties['SR_SC'] !== null ? autolinker.link(feature.properties['SR_SC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_ST</th>\
                        <td>' + (feature.properties['T_ST'] !== null ? autolinker.link(feature.properties['T_ST'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_ST</th>\
                        <td>' + (feature.properties['T%_ST'] !== null ? autolinker.link(feature.properties['T%_ST'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_ST</th>\
                        <td>' + (feature.properties['M_ST'] !== null ? autolinker.link(feature.properties['M_ST'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_ST</th>\
                        <td>' + (feature.properties['F_ST'] !== null ? autolinker.link(feature.properties['F_ST'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_ST</th>\
                        <td>' + (feature.properties['SR_ST'] !== null ? autolinker.link(feature.properties['SR_ST'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_LITTERAT</th>\
                        <td>' + (feature.properties['T_LITTERAT'] !== null ? autolinker.link(feature.properties['T_LITTERAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_LITTERA</th>\
                        <td>' + (feature.properties['T%_LITTERA'] !== null ? autolinker.link(feature.properties['T%_LITTERA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_LITTERAT</th>\
                        <td>' + (feature.properties['M_LITTERAT'] !== null ? autolinker.link(feature.properties['M_LITTERAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_LITTERAT</th>\
                        <td>' + (feature.properties['F_LITTERAT'] !== null ? autolinker.link(feature.properties['F_LITTERAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_LITTERA</th>\
                        <td>' + (feature.properties['SR_LITTERA'] !== null ? autolinker.link(feature.properties['SR_LITTERA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_WORKERS</th>\
                        <td>' + (feature.properties['T_WORKERS'] !== null ? autolinker.link(feature.properties['T_WORKERS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_WORKERS</th>\
                        <td>' + (feature.properties['T%_WORKERS'] !== null ? autolinker.link(feature.properties['T%_WORKERS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_WORKERS</th>\
                        <td>' + (feature.properties['M_WORKERS'] !== null ? autolinker.link(feature.properties['M_WORKERS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_WORKERS</th>\
                        <td>' + (feature.properties['F_WORKERS'] !== null ? autolinker.link(feature.properties['F_WORKERS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_WORKERS</th>\
                        <td>' + (feature.properties['SR_WORKERS'] !== null ? autolinker.link(feature.properties['SR_WORKERS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_MARGINAL</th>\
                        <td>' + (feature.properties['T_MARGINAL'] !== null ? autolinker.link(feature.properties['T_MARGINAL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_MARGINA</th>\
                        <td>' + (feature.properties['T%_MARGINA'] !== null ? autolinker.link(feature.properties['T%_MARGINA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_MARGINAL</th>\
                        <td>' + (feature.properties['M_MARGINAL'] !== null ? autolinker.link(feature.properties['M_MARGINAL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_MARGINAL</th>\
                        <td>' + (feature.properties['F_MARGINAL'] !== null ? autolinker.link(feature.properties['F_MARGINAL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_MARGINA</th>\
                        <td>' + (feature.properties['SR_MARGINA'] !== null ? autolinker.link(feature.properties['SR_MARGINA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_NONWORK</th>\
                        <td>' + (feature.properties['T_NONWORK'] !== null ? autolinker.link(feature.properties['T_NONWORK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_NONWORK</th>\
                        <td>' + (feature.properties['T%_NONWORK'] !== null ? autolinker.link(feature.properties['T%_NONWORK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_NONWORK</th>\
                        <td>' + (feature.properties['M_NONWORK'] !== null ? autolinker.link(feature.properties['M_NONWORK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_NONWORK</th>\
                        <td>' + (feature.properties['F_NONWORK'] !== null ? autolinker.link(feature.properties['F_NONWORK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_NONWORK</th>\
                        <td>' + (feature.properties['SR_NONWORK'] !== null ? autolinker.link(feature.properties['SR_NONWORK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_PRIMARY</th>\
                        <td>' + (feature.properties['T_PRIMARY'] !== null ? autolinker.link(feature.properties['T_PRIMARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_PRIMARY</th>\
                        <td>' + (feature.properties['T%_PRIMARY'] !== null ? autolinker.link(feature.properties['T%_PRIMARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_PRIMARY</th>\
                        <td>' + (feature.properties['M_PRIMARY'] !== null ? autolinker.link(feature.properties['M_PRIMARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_PRIMARY</th>\
                        <td>' + (feature.properties['F_PRIMARY'] !== null ? autolinker.link(feature.properties['F_PRIMARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_PRIMARY</th>\
                        <td>' + (feature.properties['SR_PRIMARY'] !== null ? autolinker.link(feature.properties['SR_PRIMARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_SECUND</th>\
                        <td>' + (feature.properties['T_SECUND'] !== null ? autolinker.link(feature.properties['T_SECUND'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_SECUND</th>\
                        <td>' + (feature.properties['T%_SECUND'] !== null ? autolinker.link(feature.properties['T%_SECUND'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_SECUND</th>\
                        <td>' + (feature.properties['M_SECUND'] !== null ? autolinker.link(feature.properties['M_SECUND'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_SECUND</th>\
                        <td>' + (feature.properties['F_SECUND'] !== null ? autolinker.link(feature.properties['F_SECUND'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_SECUND</th>\
                        <td>' + (feature.properties['SR_SECUND'] !== null ? autolinker.link(feature.properties['SR_SECUND'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_TERTIARY</th>\
                        <td>' + (feature.properties['T_TERTIARY'] !== null ? autolinker.link(feature.properties['T_TERTIARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_TERTIAR</th>\
                        <td>' + (feature.properties['T%_TERTIAR'] !== null ? autolinker.link(feature.properties['T%_TERTIAR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_TERTIARY</th>\
                        <td>' + (feature.properties['M_TERTIARY'] !== null ? autolinker.link(feature.properties['M_TERTIARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_TERTIARY</th>\
                        <td>' + (feature.properties['F_TERTIARY'] !== null ? autolinker.link(feature.properties['F_TERTIARY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_TERTIAR</th>\
                        <td>' + (feature.properties['SR_TERTIAR'] !== null ? autolinker.link(feature.properties['SR_TERTIAR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_CULTIVAT</th>\
                        <td>' + (feature.properties['T_CULTIVAT'] !== null ? autolinker.link(feature.properties['T_CULTIVAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_CULTIVA</th>\
                        <td>' + (feature.properties['T%_CULTIVA'] !== null ? autolinker.link(feature.properties['T%_CULTIVA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_CULTIVAT</th>\
                        <td>' + (feature.properties['M_CULTIVAT'] !== null ? autolinker.link(feature.properties['M_CULTIVAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_CULTIVAT</th>\
                        <td>' + (feature.properties['F_CULTIVAT'] !== null ? autolinker.link(feature.properties['F_CULTIVAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_CULTIVA</th>\
                        <td>' + (feature.properties['SR_CULTIVA'] !== null ? autolinker.link(feature.properties['SR_CULTIVA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_AGRI_LAB</th>\
                        <td>' + (feature.properties['T_AGRI_LAB'] !== null ? autolinker.link(feature.properties['T_AGRI_LAB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_AGRI_LA</th>\
                        <td>' + (feature.properties['T%_AGRI_LA'] !== null ? autolinker.link(feature.properties['T%_AGRI_LA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_AGRI_LAB</th>\
                        <td>' + (feature.properties['M_AGRI_LAB'] !== null ? autolinker.link(feature.properties['M_AGRI_LAB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_AGRI_LAB</th>\
                        <td>' + (feature.properties['F_AGRI_LAB'] !== null ? autolinker.link(feature.properties['F_AGRI_LAB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_AGRI_LA</th>\
                        <td>' + (feature.properties['SR_AGRI_LA'] !== null ? autolinker.link(feature.properties['SR_AGRI_LA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_FISH_FOR</th>\
                        <td>' + (feature.properties['T_FISH_FOR'] !== null ? autolinker.link(feature.properties['T_FISH_FOR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_FISH_FO</th>\
                        <td>' + (feature.properties['T%_FISH_FO'] !== null ? autolinker.link(feature.properties['T%_FISH_FO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_FISH_FOR</th>\
                        <td>' + (feature.properties['M_FISH_FOR'] !== null ? autolinker.link(feature.properties['M_FISH_FOR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_FISH_FOR</th>\
                        <td>' + (feature.properties['F_FISH_FOR'] !== null ? autolinker.link(feature.properties['F_FISH_FOR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_FISH_FO</th>\
                        <td>' + (feature.properties['SR_FISH_FO'] !== null ? autolinker.link(feature.properties['SR_FISH_FO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_MINING</th>\
                        <td>' + (feature.properties['T_MINING'] !== null ? autolinker.link(feature.properties['T_MINING'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_MINING</th>\
                        <td>' + (feature.properties['T%_MINING'] !== null ? autolinker.link(feature.properties['T%_MINING'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_MINING</th>\
                        <td>' + (feature.properties['M_MINING'] !== null ? autolinker.link(feature.properties['M_MINING'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_MINING</th>\
                        <td>' + (feature.properties['F_MINING'] !== null ? autolinker.link(feature.properties['F_MINING'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_MINING</th>\
                        <td>' + (feature.properties['SR_MINING'] !== null ? autolinker.link(feature.properties['SR_MINING'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_HH_INDUS</th>\
                        <td>' + (feature.properties['T_HH_INDUS'] !== null ? autolinker.link(feature.properties['T_HH_INDUS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_HH_INDU</th>\
                        <td>' + (feature.properties['T%_HH_INDU'] !== null ? autolinker.link(feature.properties['T%_HH_INDU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_HH_INDUS</th>\
                        <td>' + (feature.properties['M_HH_INDUS'] !== null ? autolinker.link(feature.properties['M_HH_INDUS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_HH_INDUS</th>\
                        <td>' + (feature.properties['F_HH_INDUS'] !== null ? autolinker.link(feature.properties['F_HH_INDUS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_HH_INDU</th>\
                        <td>' + (feature.properties['SR_HH_INDU'] !== null ? autolinker.link(feature.properties['SR_HH_INDU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_OTH_INDU</th>\
                        <td>' + (feature.properties['T_OTH_INDU'] !== null ? autolinker.link(feature.properties['T_OTH_INDU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_OTH_IND</th>\
                        <td>' + (feature.properties['T%_OTH_IND'] !== null ? autolinker.link(feature.properties['T%_OTH_IND'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_OTH_INDU</th>\
                        <td>' + (feature.properties['M_OTH_INDU'] !== null ? autolinker.link(feature.properties['M_OTH_INDU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_OTH_INDU</th>\
                        <td>' + (feature.properties['F_OTH_INDU'] !== null ? autolinker.link(feature.properties['F_OTH_INDU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_OTH_IND</th>\
                        <td>' + (feature.properties['SR_OTH_IND'] !== null ? autolinker.link(feature.properties['SR_OTH_IND'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_CONSTRUC</th>\
                        <td>' + (feature.properties['T_CONSTRUC'] !== null ? autolinker.link(feature.properties['T_CONSTRUC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_CONSTRU</th>\
                        <td>' + (feature.properties['T%_CONSTRU'] !== null ? autolinker.link(feature.properties['T%_CONSTRU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_CONSTRUC</th>\
                        <td>' + (feature.properties['M_CONSTRUC'] !== null ? autolinker.link(feature.properties['M_CONSTRUC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_CONSTRUC</th>\
                        <td>' + (feature.properties['F_CONSTRUC'] !== null ? autolinker.link(feature.properties['F_CONSTRUC'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_CONSTRU</th>\
                        <td>' + (feature.properties['SR_CONSTRU'] !== null ? autolinker.link(feature.properties['SR_CONSTRU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_TRADE</th>\
                        <td>' + (feature.properties['T_TRADE'] !== null ? autolinker.link(feature.properties['T_TRADE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_TRADE</th>\
                        <td>' + (feature.properties['T%_TRADE'] !== null ? autolinker.link(feature.properties['T%_TRADE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_TRADE</th>\
                        <td>' + (feature.properties['M_TRADE'] !== null ? autolinker.link(feature.properties['M_TRADE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_TRADE</th>\
                        <td>' + (feature.properties['F_TRADE'] !== null ? autolinker.link(feature.properties['F_TRADE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_TRADE</th>\
                        <td>' + (feature.properties['SR_TRADE'] !== null ? autolinker.link(feature.properties['SR_TRADE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_TRANSPOR</th>\
                        <td>' + (feature.properties['T_TRANSPOR'] !== null ? autolinker.link(feature.properties['T_TRANSPOR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_TRANSPO</th>\
                        <td>' + (feature.properties['T%_TRANSPO'] !== null ? autolinker.link(feature.properties['T%_TRANSPO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_TRANSPOR</th>\
                        <td>' + (feature.properties['M_TRANSPOR'] !== null ? autolinker.link(feature.properties['M_TRANSPOR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_TRANSPOR</th>\
                        <td>' + (feature.properties['F_TRANSPOR'] !== null ? autolinker.link(feature.properties['F_TRANSPOR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_TRANSPO</th>\
                        <td>' + (feature.properties['SR_TRANSPO'] !== null ? autolinker.link(feature.properties['SR_TRANSPO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T_SERVICES</th>\
                        <td>' + (feature.properties['T_SERVICES'] !== null ? autolinker.link(feature.properties['T_SERVICES'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">T%_SERVICE</th>\
                        <td>' + (feature.properties['T%_SERVICE'] !== null ? autolinker.link(feature.properties['T%_SERVICE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">M_SERVICES</th>\
                        <td>' + (feature.properties['M_SERVICES'] !== null ? autolinker.link(feature.properties['M_SERVICES'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">F_SERVICES</th>\
                        <td>' + (feature.properties['F_SERVICES'] !== null ? autolinker.link(feature.properties['F_SERVICES'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SR_SERVICE</th>\
                        <td>' + (feature.properties['SR_SERVICE'] !== null ? autolinker.link(feature.properties['SR_SERVICE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU_FOREST</th>\
                        <td>' + (feature.properties['LU_FOREST'] !== null ? autolinker.link(feature.properties['LU_FOREST'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU%_FOREST</th>\
                        <td>' + (feature.properties['LU%_FOREST'] !== null ? autolinker.link(feature.properties['LU%_FOREST'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU_IRRIGAT</th>\
                        <td>' + (feature.properties['LU_IRRIGAT'] !== null ? autolinker.link(feature.properties['LU_IRRIGAT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU%_IRRIGA</th>\
                        <td>' + (feature.properties['LU%_IRRIGA'] !== null ? autolinker.link(feature.properties['LU%_IRRIGA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU_UNIRRIG</th>\
                        <td>' + (feature.properties['LU_UNIRRIG'] !== null ? autolinker.link(feature.properties['LU_UNIRRIG'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU%_UNIRRI</th>\
                        <td>' + (feature.properties['LU%_UNIRRI'] !== null ? autolinker.link(feature.properties['LU%_UNIRRI'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU_CULT_WA</th>\
                        <td>' + (feature.properties['LU_CULT_WA'] !== null ? autolinker.link(feature.properties['LU_CULT_WA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU%_CULT_W</th>\
                        <td>' + (feature.properties['LU%_CULT_W'] !== null ? autolinker.link(feature.properties['LU%_CULT_W'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU_NON_CUL</th>\
                        <td>' + (feature.properties['LU_NON_CUL'] !== null ? autolinker.link(feature.properties['LU_NON_CUL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LU%_NON_C</th>\
                        <td>' + (feature.properties['LU%_NON_C'] !== null ? autolinker.link(feature.properties['LU%_NON_C'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_WELL</th>\
                        <td>' + (feature.properties['IR_WELL'] !== null ? autolinker.link(feature.properties['IR_WELL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_TUBEWEL</th>\
                        <td>' + (feature.properties['IR_TUBEWEL'] !== null ? autolinker.link(feature.properties['IR_TUBEWEL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_TANK</th>\
                        <td>' + (feature.properties['IR_TANK'] !== null ? autolinker.link(feature.properties['IR_TANK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_LAKE</th>\
                        <td>' + (feature.properties['IR_LAKE'] !== null ? autolinker.link(feature.properties['IR_LAKE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_RIVER</th>\
                        <td>' + (feature.properties['IR_RIVER'] !== null ? autolinker.link(feature.properties['IR_RIVER'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_GVT_CAN</th>\
                        <td>' + (feature.properties['IR_GVT_CAN'] !== null ? autolinker.link(feature.properties['IR_GVT_CAN'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_PRIV_CA</th>\
                        <td>' + (feature.properties['IR_PRIV_CA'] !== null ? autolinker.link(feature.properties['IR_PRIV_CA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IR_OTHER</th>\
                        <td>' + (feature.properties['IR_OTHER'] !== null ? autolinker.link(feature.properties['IR_OTHER'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Pudukkottaisdt_0_0() {
            return {
                pane: 'pane_Pudukkottaisdt_0',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(141,90,153,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Pudukkottaisdt_0');
        map.getPane('pane_Pudukkottaisdt_0').style.zIndex = 400;
        map.getPane('pane_Pudukkottaisdt_0').style['mix-blend-mode'] = 'normal';
        var layer_Pudukkottaisdt_0 = new L.geoJson(json_Pudukkottaisdt_0, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Pudukkottaisdt_0',
            layerName: 'layer_Pudukkottaisdt_0',
            pane: 'pane_Pudukkottaisdt_0',
            onEachFeature: pop_Pudukkottaisdt_0,
            style: style_Pudukkottaisdt_0_0,
        });
        bounds_group.addLayer(layer_Pudukkottaisdt_0);
        map.addLayer(layer_Pudukkottaisdt_0);
        let availableFields = [
        { id: 'T_POPULAT', label: 'Total population' },
        { id: 'DENSITY', label: 'Density' },
        { id: 'HOUSEHOLDS', label: 'Number of occupied households' },
        { id: 'PERS/HOUSE', label: 'Number of persons per occupied households' },
        { id: 'MALE_POP', label: 'Total male population' },
        { id: 'FEMALE_POP', label: 'Total female population' },
        { id: 'SR_POPULAT', label: 'Sex ratio' },
        { id: 'T_CHILDREN', label: 'Total population below 6 years' },
        { id: 'M_CHILDREN', label: 'Total male population below 6 years' },
        { id: 'F_CHILDREN', label: 'Total female population below 6 years' },
        { id: 'SR_CHILDRE', label: 'Sex ratio below 6 years' },
        { id: 'T_SC', label: 'Total Scheduled Castes population' },
        { id: 'T%_SC', label: 'Percentage of Scheduled Castes population' },
        { id: 'M_SC', label: 'Total male Scheduled Castes population' },
        { id: 'F_SC', label: 'Total female Scheduled Castes population' },
        { id: 'SR_SC', label: 'Sex ratio of Scheduled Castes population' },
        { id: 'T_ST', label: 'Total Scheduled Tribes population' },
        { id: 'T%_ST', label: 'Percentage of Scheduled Tribes population' },
        { id: 'M_ST', label: 'Total male Scheduled Tribes population' },
        { id: 'F_ST', label: 'Total female Scheduled Tribes population' },
        { id: 'SR_ST', label: 'Sex ratio of Scheduled Tribes population' },
        { id: 'T_LITTERAT', label: 'Total literate population' },
        { id: 'T%_LITTERA', label: 'Percentage of literate population' },
        { id: 'M_LITTERAT', label: 'Total male literate population' },
        { id: 'F_LITTERAT', label: 'Total female literate population' },
        { id: 'SR_LITTERA', label: 'Sex ratio of literate population' },
        { id: 'T_WORKERS', label: 'Total workers' },
        { id: 'T%_WORKERS', label: 'Percentage of workers' },
        { id: 'M_WORKERS', label: 'Total male workers' },
        { id: 'F_WORKERS', label: 'Total female workers' },
        { id: 'SR_WORKERS', label: 'Sex ratio of workers' },
        { id: 'T_MARGINAL', label: 'Total marginal workers' },
        { id: 'T%_MARGINA', label: 'Percentage of marginal workers' },
        { id: 'M_MARGINAL', label: 'Total male marginal workers' },
        { id: 'F_MARGINAL', label: 'Total female marginal workers' },
        { id: 'SR_MARGINA', label: 'Sex ratio of marginal workers' },
        { id: 'T_NONWORK', label: 'Total non-workers' },
        { id: 'T%_NONWORK', label: 'Percentage of non-workers' },
        { id: 'M_NONWORK', label: 'Total male non-workers' },
        { id: 'F_NONWORK', label: 'Total female non-workers' },
        { id: 'SR_NONWORK', label: 'Sex ratio of non-workers' },
        { id: 'T_PRIMARY', label: 'Total primary sector workers' },
        { id: 'T%_PRIMARY', label: 'Percentage of primary sector workers' },
        { id: 'M_PRIMARY', label: 'Total male primary sector workers' },
        { id: 'F_PRIMARY', label: 'Total female primary sector workers' },
        { id: 'SR_PRIMARY', label: 'Sex ratio of primary sector workers' },
        { id: 'T_SECUND', label: 'Total secondary sector workers' },
        { id: 'T%_SECUND', label: 'Percentage of secondary sector workers' },
        { id: 'M_SECUND', label: 'Total male secondary sector workers' },
        { id: 'F_SECUND', label: 'Total female secondary sector workers' },
        { id: 'SR_SECUND', label: 'Sex ratio of secondary sector workers' },
        { id: 'T_TERTIARY', label: 'Total tertiary sector workers' },
        { id: 'T%_TERTIAR', label: 'Percentage of tertiary sector workers' },
        { id: 'M_TERTIARY', label: 'Total male tertiary sector workers' },
        { id: 'F_TERTIARY', label: 'Total female tertiary sector workers' },
        { id: 'SR_TERTIAR', label: 'Sex ratio of tertiary sector workers' },
        { id: 'T_CULTIVAT', label: 'Total cultivators' },
        { id: 'T%_CULTIVA', label: 'Percentage of cultivators' },
        { id: 'M_CULTIVAT', label: 'Total male cultivators' },
        { id: 'F_CULTIVAT', label: 'Total female cultivators' },
        { id: 'SR_CULTIVA', label: 'Sex ratio of cultivators' },
        { id: 'T_AGRI_LAB', label: 'Total agricultural laborers' },
        { id: 'T%_AGRI_LA', label: 'Percentage of agricultural laborers' },
        { id: 'M_AGRI_LAB', label: 'Total male agricultural laborers' },
        { id: 'F_AGRI_LAB', label: 'Total female agricultural laborers' },
        { id: 'SR_AGRI_LA', label: 'Sex ratio of agricultural laborers' },
        { id: 'T_FISH_FOR', label: 'Total fishing and forestry workers' },
        { id: 'T%_FISH_FO', label: 'Percentage of fishing and forestry workers' },
        { id: 'M_FISH_FOR', label: 'Total male fishing and forestry workers' },
        { id: 'F_FISH_FOR', label: 'Total female fishing and forestry workers' },
        { id: 'SR_FISH_FO', label: 'Sex ratio of fishing and forestry workers' },
        { id: 'T_MINING', label: 'Total mining workers' },
        { id: 'T%_MINING', label: 'Percentage of mining workers' },
        { id: 'M_MINING', label: 'Total male mining workers' },
        { id: 'F_MINING', label: 'Total female mining workers' },
        { id: 'SR_MINING', label: 'Sex ratio of mining workers' },
        { id: 'T_HH_INDUS', label: 'Total household industry workers' },
        { id: 'T%_HH_INDU', label: 'Percentage of household industry workers' },
        { id: 'M_HH_INDUS', label: 'Total male household industry workers' },
        { id: 'F_HH_INDUS', label: 'Total female household industry workers' },
        { id: 'SR_HH_INDU', label: 'Sex ratio of household industry workers' },
        { id: 'T_OTH_INDU', label: 'Total other industry workers' },
        { id: 'T%_OTH_IND', label: 'Percentage of other industry workers' },
        { id: 'M_OTH_INDU', label: 'Total male other industry workers' },
        { id: 'F_OTH_INDU', label: 'Total female other industry workers' },
        { id: 'SR_OTH_IND', label: 'Sex ratio of other industry workers' },
        { id: 'T_CONSTRUC', label: 'Total construction workers' },
        { id: 'T%_CONSTRU', label: 'Percentage of construction workers' },
        { id: 'M_CONSTRUC', label: 'Total male construction workers' },
        { id: 'F_CONSTRUC', label: 'Total female construction workers' },
        { id: 'SR_CONSTRU', label: 'Sex ratio of construction workers' },
        { id: 'T_TRADE', label: 'Total trade workers' },
        { id: 'T%_TRADE', label: 'Percentage of trade workers' },
        { id: 'M_TRADE', label: 'Total male trade workers' },
        { id: 'F_TRADE', label: 'Total female trade workers' },
        { id: 'SR_TRADE', label: 'Sex ratio of trade workers' },
        { id: 'T_TRANSPOR', label: 'Total transport workers' },
        { id: 'T%_TRANSPO', label: 'Percentage of transport workers' },
        { id: 'M_TRANSPOR', label: 'Total male transport workers' },
        { id: 'F_TRANSPOR', label: 'Total female transport workers' },
        { id: 'SR_TRANSPO', label: 'Sex ratio of transport workers' },
        { id: 'T_SERVICES', label: 'Total service workers' },
        { id: 'T%_SERVICE', label: 'Percentage of service workers' },
        { id: 'M_SERVICES', label: 'Total male service workers' },
        { id: 'F_SERVICES', label: 'Total female service workers' },
        { id: 'SR_SERVICE', label: 'Sex ratio of service workers' },
        { id: 'LU_FOREST', label: 'Total forest land' },
        { id: 'LU%_FOREST', label: 'Percentage of forest land' },
        { id: 'LU_IRRIGAT', label: 'Total irrigated land' },
        { id: 'LU%_IRRIGA', label: 'Percentage of irrigated land' },
        { id: 'LU_UNIRRIG', label: 'Total unirrigated land' },
        { id: 'LU%_UNIRRI', label: 'Percentage of unirrigated land' },
        { id: 'LU_CULT_WA', label: 'Total culturable waste land' },
        { id: 'LU%_CULT_W', label: 'Percentage of culturable waste land' },
        { id: 'LU_NON_CUL', label: 'Total non-cultivable land' },
        { id: 'LU%_NON_C', label: 'Percentage of non-cultivable land' },
        { id: 'IR_WELL', label: 'Total irrigated by wells' },
        { id: 'IR_TUBEWEL', label: 'Total irrigated by tubewells' },
        { id: 'IR_TANK', label: 'Total irrigated by tanks' },
        { id: 'IR_LAKE', label: 'Total irrigated by lakes' },
        { id: 'IR_RIVER', label: 'Total irrigated by rivers' },
        { id: 'IR_GVT_CAN', label: 'Total irrigated by government canals' },
        { id: 'IR_PRIV_CA', label: 'Total irrigated by private canals' },
        { id: 'IR_OTHER', label: 'Total irrigated by other sources' }
    ];
    function addField() {
        const select = document.getElementById('addField');
        const fieldId = select.value;
        if (fieldId) {
            const field = availableFields.find(f => f.id === fieldId);
            if (field) {
                addFieldControls(field);
                select.value = ''; // Reset the select
            }
        }
    }
    
    function addFieldControls(field) {
        const filtersDiv = document.getElementById('filters');
        const fieldDiv = document.createElement('div');
        fieldDiv.id = `${field.id}_controls`;
        fieldDiv.innerHTML = `
            <label for="${field.id}">${field.label}: </label>
            <select id="${field.id}_op">
                <option value="<">Less Than</option>
                <option value=">">Greater Than</option>
                <option value="=">Equal To</option>
                <option value="between">Between</option>
            </select>
            <input type="text" id="${field.id}">
            <input type="text" id="${field.id}_2" style="display: none;">
            <button onclick="removeField('${field.id}_controls')">Remove</button>
        `;
        filtersDiv.appendChild(fieldDiv);
    
        // Add event listener for 'between' operator
        console.log(document.getElementById(`${field.id}_op`));
        document.getElementById(`${field.id}_op`).addEventListener('change', function () {
            const betweenInput = document.getElementById(`${field.id}_2`);
            if (this.value === 'between') {
                betweenInput.style.display = 'inline';
            } else {
                betweenInput.style.display = 'none';
            }
        });
    }
    
    function removeField(fieldControlsId) {
        const fieldDiv = document.getElementById(fieldControlsId);
        if (fieldDiv) {
            fieldDiv.remove();
        }
    }
    
    function applyFilter() {
        // Function to apply the filter based on user inputs
        const criteria = availableFields.map(f => ({ id: f.id, property: f.id }));
        // Get the input values and operators
        let filters = {};
        console.log(criteria);
        criteria.forEach(c => {
          console.log(c.id);
          console.log(c.property);
          var value='',operator='',value2='';
          if(document.getElementById(c.id)){
            value = document.getElementById(c.id).value;
            operator = document.getElementById(c.id + '_op').value;
            value2 = document.getElementById(c.id + '_2').value;
          }
            if (value !== '' || (operator === 'between' && value !== '' && value2 !== '')) {
                filters[c.property] = { operator: operator, value: parseFloat(value), value2: parseFloat(value2) };
            }
        });
    
        // Function to check if a feature matches the filter criteria
        function matchesFilter(feature) {
            for (let prop in filters) {
                const { operator, value, value2 } = filters[prop];
                const featureValue = feature.properties[prop];
                if (operator === '<' && !(featureValue < value)) return false;
                if (operator === '>' && !(featureValue > value)) return false;
                if (operator === '=' && !(featureValue == value)) return false;
                if (operator === 'between' && !(featureValue >= value && featureValue <= value2)) return false;
            }
            return true;
        }
    
        // Reset the styles of all features
          layer_Pudukkottaisdt_0.setStyle({
            color: '#3388ff', // default border color
            weight: 2,
            opacity: 1,
            fillColor: '#ffffff', // default fill color
            fillOpacity: 0.2
        });
    
        // Apply new styles to the features that match the filter criteria
          layer_Pudukkottaisdt_0.eachLayer(layer => {
            if (matchesFilter(layer.feature)) {
                layer.setStyle({
                    color: '#3388ff', // retain the border color
                    weight: 2,
                    opacity: 1,
                    fillColor: '#ff0000', // highlight color
                    fillOpacity: 0.5
                });
            }
        });
    }
    
          
          function revertFeatures() {
                layer_Pudukkottaisdt_0.eachLayer(function(layer) {
                  layer.setStyle(style_Pudukkottaisdt_0_0());
              });
          }
        setBounds();
        var i = 0;
        layer_Pudukkottaisdt_0.eachLayer(function(layer) {
            var context = {
                feature: layer.feature,
                variables: {}
            };
            layer.bindTooltip((layer.feature.properties['NAME'] !== null?String('<div style="color: #323232; font-size: 10pt; font-family: \'Arial\', sans-serif;">' + layer.feature.properties['NAME']) + '</div>':''), {permanent: true, offset: [-0, -16], className: 'css_Pudukkottaisdt_0'});
            labels.push(layer);
            totalMarkers += 1;
              layer.added = true;
              addLabel(layer, i);
              i++;
        });
        map.addControl(new L.Control.Search({
            layer: layer_Pudukkottaisdt_0,
            initial: false,
            hideMarkerOnCollapse: true,
            propertyName: 'NAME'}));
        document.getElementsByClassName('search-button')[0].className +=
         ' fa fa-binoculars';
        resetLabels([layer_Pudukkottaisdt_0]);
        map.on("zoomend", function(){
            resetLabels([layer_Pudukkottaisdt_0]);
        });
        map.on("layeradd", function(){
            resetLabels([layer_Pudukkottaisdt_0]);
        });
        map.on("layerremove", function(){
            resetLabels([layer_Pudukkottaisdt_0]);
        });
        </script>
    </body>
</html>
